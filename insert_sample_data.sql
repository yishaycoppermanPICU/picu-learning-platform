-- הוספת נתונים לדוגמה למערכת PICU Learning Platform
-- הרץ את זה אחרי שהטבלאות קיימות

-- מחיקת המוסדות הקיימים והוספה מחדש של כולם
TRUNCATE TABLE institutions CASCADE;

-- הוספת כל בתי החולים בישראל
INSERT INTO institutions (name) VALUES
-- מרכזים רפואיים גדולים
('שיבא - תל השומר'),
('איכילוב - תל אביב'),
('רמב״ם - חיפה'),
('הדסה עין כרם - ירושלים'),
('סורוקה - באר שבע'),
('בלינסון - פתח תקווה'),
('אסף הרופא - צריפין'),
('שערי צדק - ירושלים'),

-- בתי חולים לילדים
('מרכז שניידר לרפואת ילדים'),
('ספרא - ילדים שיבא'),
('רות רפפורט - ילדים רמב״ם'),
('אלין - ירושלים'),

-- מרכזים רפואיים נוספים
('וולפסון - חולון'),
('קפלן - רחובות'),
('ברזילי - אשקלון'),
('מאיר - כפר סבא'),
('הלל יפה - חדרה'),
('בני ציון - חיפה'),
('כרמל - חיפה'),
('נהריה - גליל מערבי'),
('זיו - צפת'),
('פוריה - טבריה'),
('העמק - עפולה'),
('לניאדו - נתניה'),
('השרון - פתח תקווה'),
('מעייני הישועה - בני ברק'),
('הדסה הר הצופים - ירושלים'),
('אסותא אשדוד'),
('מזרע - נצרת'),
('הגליל - נהריה'),
('ברוך פדה - פוריה'),
('סנט וינסנט - נצרת'),
('הצרפתי - נצרת'),
('האיטלקי - חיפה'),

-- מוסדות רפואיים נוספים
('מד״א - מגן דוד אדום'),
('צה״ל - חיל רפואה'),
('שירותי בריאות כללית'),
('מכבי שירותי בריאות'),
('מאוחדת'),
('לאומית'),

-- בתי ספר לסיעוד
('ביה״ס לסיעוד - שיבא'),
('ביה״ס לסיעוד - וולפסון'),
('ביה״ס לסיעוד - רמב״ם'),
('ביה״ס לסיעוד - הדסה'),
('ביה״ס לסיעוד - מאיר'),
('ביה״ס לסיעוד - אסף הרופא'),

-- אחר
('אחר - לא ברשימה');

-- הוספת שאלות לדוגמה לנושא החייאה
INSERT INTO questions (topic_id, question_text, options, correct_answer, explanation, difficulty)
SELECT 
  id,
  'מהו היחס הנכון של לחיצות להנשמות בהחייאת ילד עם שני מטפלים?',
  '["30:2", "15:2", "5:1", "3:1"]'::jsonb,
  1,
  'עם 2 מטפלים בילדים, היחס הוא 15:2. עם מטפל יחיד היחס הוא 30:2',
  'medium'
FROM topics WHERE title = 'החייאה - BLS & PALS'
ON CONFLICT DO NOTHING;

INSERT INTO questions (topic_id, question_text, options, correct_answer, explanation, difficulty)
SELECT 
  id,
  'מהו המינון של אפינפרין IV/IO בהחייאה?',
  '["0.1 מג/קג", "0.01 מג/קג", "1 מג/קג", "0.001 מג/קג"]'::jsonb,
  1,
  'המינון הוא 0.01 מג/קג (0.1 מל/קג מתמיסה 1:10,000)',
  'easy'
FROM topics WHERE title = 'החייאה - BLS & PALS'
ON CONFLICT DO NOTHING;

INSERT INTO questions (topic_id, question_text, options, correct_answer, explanation, difficulty)
SELECT 
  id,
  'מהו עומק הלחיצות המומלץ בהחייאת ילד?',
  '["1/4 מעומק החזה", "1/3 מעומק החזה", "1/2 מעומק החזה", "2 סמ"]'::jsonb,
  1,
  'עומק הלחיצות צריך להיות 1/3 מעומק החזה (כ-5 סמ בילד)',
  'medium'
FROM topics WHERE title = 'החייאה - BLS & PALS'
ON CONFLICT DO NOTHING;

-- הוספת שאלות לנושא הנשמה
INSERT INTO questions (topic_id, question_text, options, correct_answer, explanation, difficulty)
SELECT 
  id,
  'מהו ה-Tidal Volume המומלץ בהנשמה מכנית בילדים?',
  '["4-6 מל/קג", "6-8 מל/קג", "8-10 מל/קג", "10-12 מל/קג"]'::jsonb,
  1,
  'Tidal Volume של 6-8 מל/קג לפי משקל גוף אידיאלי',
  'medium'
FROM topics WHERE title = 'הנשמה מכנית'
ON CONFLICT DO NOTHING;

-- הוספת שאלות לנושא תרופות
INSERT INTO questions (topic_id, question_text, options, correct_answer, explanation, difficulty)
SELECT 
  id,
  'מהו המינון של מידזולם IV לסדציה?',
  '["0.05-0.1 מג/קג", "0.1-0.2 מג/קג", "0.5-1 מג/קג", "1-2 מג/קג"]'::jsonb,
  0,
  'מידזולם IV: 0.05-0.1 מג/קג, ניתן לחזור כל 2-3 דקות',
  'medium'
FROM topics WHERE title = 'תרופות בטיפול נמרץ'
ON CONFLICT DO NOTHING;
