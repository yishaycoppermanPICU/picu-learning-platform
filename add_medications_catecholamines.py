#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
הוספת תוכן: קטכולאמינים ואינוטרופים (Catecholamines & Inotropes)
"""

from utils.database import init_supabase, create_content_item, create_content_section

def add_catecholamines():
    """הוספת קטכולאמינים ואינוטרופים"""
    
    print("🔄 מתחבר למסד הנתונים...")
    supabase = init_supabase()
    
    if not supabase:
        print("❌ שגיאה בחיבור למסד נתונים")
        return False
    
    print("✅ חיבור הצליח!")
    
    # יצירת הנושא הראשי
    print("\n📝 יוצר נושא: קטכולאמינים ואינוטרופים...")
    
    topic_data = {
        "title": "קטכולאמינים ואינוטרופים - Catecholamines & Inotropes",
        "category": "medications",
        "description": "מדריך מקיף לאינוטרופים וקטכולאמינים: דופמין, דובוטמין, מילרינון, נוראפינפרין, איזופרוטרנול ועוד",
        "icon": "❤️",
        "slug": "catecholamines_inotropes",
        "tags": ["תרופות", "קטכולאמינים", "אינוטרופים", "דופמין", "דובוטמין", "מילרינון", "נוראפינפרין", "אפינפרין"],
        "order_index": 3
    }
    
    topic = create_content_item(topic_data)
    
    if not topic:
        print("❌ שגיאה ביצירת הנושא")
        return False
    
    topic_id = topic['id']
    print(f"✅ נושא נוצר בהצלחה! ID: {topic_id}")
    
    # הוספת מקטעים
    sections = [
        {
            "title": "דופמין - Dopamine",
            "section_type": "text",
            "content": """**Dopamine - דופמין**

**תיאור:**
קטכולאמין טבעי ← משמש כקודם ביוסינתזה של אפינפרין ונוראפינפרין

**מנגנון פעולה:** תלוי מינון!

---

**📊 מינון לפי השפעה:**

**Renal Dose (מינון כלייתי):**
💧 **0.5-2 mcg/kg/minute**
- פעולה: הרחבת כלי דם כליים + מזנטריים ← הגברת זרימת דם
- שימוש: תמיכה במצבי הלם והיפופרפוזיה

**Beta Adrenergic (מינון beta):**
💧 **2-10 mcg/kg/minute**
- פעולה: **אינוטרופ** (מגביר כוח התכווצות) + כרונוטרופ (מגביר דופק)
- השפעה: עלייה בתפוקת הלב

**Alpha Adrenergic (מינון alpha):**
💧 **10-20 mcg/kg/minute**
- פעולה: כיווץ כלי דם ← **הגברת התנגודת הפריפרית**
- השפעה: עלייה בלחץ דם

---

**🎯 שימושים קליניים:**

✅ **הלם של מחלת לב**
✅ **הלם היפוולמי**
✅ **הלם ספטי לאחר החייאה בנוזלים**

---

**⚠️ זהירות:**

🚫 **אסור להשתמש בדופמין ללא החייאה בנוזלים לפני כן!**

❌ **התוויות נגד:**
- SVT (טכיקרדיה סופרא-וונטריקולארית)
- פאוקרומוציטומה
- פיברילציה חדרים

---

**תופעות לוואי:**

**קרדיווסקולריות:**
- טכיקרדיה
- היפוטנסיה
- הפרעות קצב נוספות

**מקומיות:**
- **אקסטרווזציה (דליפה מחוץ לוריד) ← נמק רקמות מקומי**

---

**💡 פרמקולוגיה:**

**זמן מחצית חיים:**
**2 דקות**

**מינון מקסימלי:**
עד **20 mcg/kg/minute**
(מינונים גבוהים יותר ← לא הוכחה יעילות ויש יותר תופעות לוואי)""",
            "order_index": 0
        },
        {
            "title": "דובוטמין - Dobutamine",
            "section_type": "text",
            "content": """**Dobutamine - דובוטמין**

**משפחה:** סימפטומימטי (אגוניסט Beta אדרנרגי)

**מנגנון:**
- פועל בעיקר על **Beta-1**
- השפעה קטנה על Beta-2 ו-Alpha

**השפעות:**
✅ **אינוטרופ חיובי** (מגביר כוח התכווצות)
✅ **כרונוטרופ חיובי** (מגביר דופק)
✅ הרחבת כלי דם פריפריים

---

**📊 מינון:**

💧 **2-20 mcg/kg/minute**
- טווח נפוץ: **5-10 mcg/kg/minute**

---

**🎯 התוויות:**

✅ **אי ספיקת לב** (יכול להיות שימושי בתיפקוד חדרים מופחת)
✅ **הלם קרדיוגני**
✅ **דלקת שריר הלב חריפה** (Acute Myocarditis)
✅ **לאחר ניתוח לב** (תמיכה המודינמית)

---

**⚠️ התוויות נגד:**

❌ **סטנוזה תת אאורטלית היפרטרופית** (HOCM/IHSS)
❌ **חסימות מכניות של מילוי חדרים** (סטנוזה מיטראלית, טמפונדה)

---

**⏱️ פרמקולוגיה:**

**תחילת פעולה:** תוך **דקה אחת**

**שיא ההשפעה:** תוך **10 דקות**

**זמן מחצית חיים:** **2 דקות**

---

**תופעות לוואי:**

**קרדיווסקולריות:**
- **טכיקרדיה** (עלייה בדופק)
- טכיאריתמיות (הפרעות קצב)
- עלייה בצריכת חמצן של שריר הלב

**מערכתיות:**
- כאב ראש
- בחילות
- רעד

---

**💡 הערה קלינית:**

דובוטמין לא מעלה תנגודת פריפרית (להבדיל מדופמין במינונים גבוהים) ← מתאים יותר למצבי אי-ספיקת לב עם היפופרפוזיה""",
            "order_index": 1
        },
        {
            "title": "מילרינון - Milrinone",
            "section_type": "text",
            "content": """**Milrinone - מילרינון**

**משפחה:** מעכבי פוספודיאסטראז (PDE-3 Inhibitor)

**מנגנון:**
עיכוב PDE-3 ← עלייה ב-cAMP ← שחרור סידן

**השפעות המודינמיות:**
✅ **אינוטרופ חיובי** (הגברת התכווצות)
✅ **לוזיטרופ חיובי** (הגברת התרגעות החדר - relaxation)
✅ **כרונוטרופ חיובי** (קל - עליית דופק קלה)
✅ **הרחבת כלי דם** (וסודילטציה)

**תוצאה נטו:**
- עלייה בנפח הפעימה
- ירידה בתנגודת פריפרית
- **עלייה בתפוקת הלב**

---

**📊 מינון:**

**מנת העמסה:**
💉 **50 mcg/kg** במשך **10 דקות**
- אפשר גם **75 mcg/kg** לפי הצורך

**מתן מתמשך:**
💧 **0.25-0.75 mcg/kg/minute**
- מינון רגיל: **0.5 mcg/kg/minute**

---

**🎯 התוויות:**

✅ **אי ספיקת לב קשה** (CHF)
✅ **פוסט ניתוח לב** (תמיכה המודינמית)
✅ **יתר לחץ דם ריאתי** (PHTN)
✅ **הלם קרדיוגני**

---

**⚠️ התוויות נגד:**

❌ **היפרסנסיטיביות למילרינון**
❌ **סטנוזה מיטראלית או אאורטלית חמורה** (שסתום מכני חסום)

---

**⚠️ זהירות:**

**במצב של הפוטנסיה:**
🚨 ייתכן **צורך בנוזלים** או **תרופות וסוקונסטריקטוריות** (כמו אפינפרין או נוראפינפרין)

---

**תופעות לוואי:**

**קרדיווסקולריות:**
- **היפוטנסיה** (בעיקר במנת העמסה)
- הפרעות קצב (אריתמיות)
- טכיקרדיה

**המטולוגיות:**
- **טרומבוציטופניה** (ירידה בטסיות דם)

**אחרות:**
- כאב ראש
- רעד

---

**⏱️ פרמקולוגיה:**

**תחילת השפעה:**
- IV: **5-15 דקות**

**משך השפעה:**
- **3-6 שעות** (לאחר הפסקת המתן)

**זמן מחצית חיים:**
- **1-3 שעות** (בילדים)

---

**💡 פנינים קליניות:**

💎 **מילרינון במצבי PHTN:** מעולה הן לתמיכה בשריר הלב והן להרחבת כלי דם ריאתיים

💎 **לאחר ניתוח לב:** בחירה ראשונה לתמיכה אינוטרופית עקב השפעה משולבת על שריר הלב ועל תנגודת פריפרית

💎 **ירידת לחץ דם:** אפשר לשלב עם נוראפינפרין או אפינפרין במינונים נמוכים""",
            "order_index": 2
        },
        {
            "title": "נוראפינפרין (לווופד) - Norepinephrine",
            "section_type": "text",
            "content": """**Norepinephrine (Levophed) - נוראפינפרין / לווופד**

**משפחה:** קטכולאמין

**מנגנון:**
- פועל בעיקר על קולטני **Alpha-1**
- פועל פחות על **Beta-1**

**השפעה:**
✅ **כיווץ כלי דם** (וזוקונסטריקציה)
✅ **עליית לחץ דם** (הגברת התנגודת פריפרית)
✅ **אינוטרופ חיובי קל** (חיזוק לב)

---

**📊 מינון:**

💧 **0.05-2 mcg/kg/minute**
- טווח נפוץ: **0.1-0.5 mcg/kg/minute**

---

**🎯 התוויות:**

✅ **הלם ספטי** (אחרי החייאה בנוזלים)
✅ **היפוטנסיה עמידה** (שאינה מגיבה לנוזלים ולדופמין)
✅ **הלם קרדיוגני** (בשילוב אינוטרופים אחרים)

---

**⚠️ זהירות:**

🚨 **חובה להיות לאחר החייאה בנוזלים מספקת!**

🚨 **זהירות בחסימת מעגל דם פריפרי** ← עלול להחמיר היפופרפוזיה רקמתית

---

**⚠️ התוויות נגד:**

❌ **היפוולמיה** (לא תוקנה)
❌ **היפוקסיה** (לא תוקנה)
❌ **טכיאריתמיות** (הפרעות קצב)

---

**תופעות לוואי:**

**קרדיווסקולריות:**
- הגברת עומס אחורי (afterload)
- ברדיקרדיה רפלקסיבית
- אריתמיות
- כיווץ כלי דם כליים ← **ירידת זרימת דם כלייתית**

**מקומיות:**
- **אקסטרווזציה** (דליפה מחוץ לוריד) ← **נמק רקמות**

---

**⏱️ פרמקולוגיה:**

**תחילת פעולה:** **מיידית**

**משך השפעה:** **1-2 דקות** לאחר הפסקה

---

**💡 פנינים קליניות:**

💎 **הלם ספטי:** בדרך כלל בחירה ראשונה אחרי נוזלים (לפני דופמין)

💎 **שילוב עם אינוטרופים:** במקרי הלם קרדיוגני, לעיתים משלבים עם דובוטמין או מילרינון

💎 **צנתור מרכזי:** מומלץ מאוד - ירידה משמעותית בסיכון לאקסטרווזציה ונמק""",
            "order_index": 3
        },
        {
            "title": "אפינפרין - Epinephrine (Adrenaline)",
            "section_type": "text",
            "content": """**Epinephrine (Adrenaline) - אפינפרין / אדרנלין**

**משפחה:** קטכולאמין

**מנגנון:** תלוי מינון!
- מינונים נמוכים: **Beta > Alpha**
- מינונים גבוהים: **Alpha > Beta**

---

**📊 מינון לפי מצב קליני:**

**תמיכה המודינמית (Hemodynamic Support):**
💧 **0.01-1 mcg/kg/minute**
- מינון נמוך: 0.01-0.1 mcg/kg/min (Beta effects)
- מינון גבוה: 0.1-1 mcg/kg/min (Alpha effects)

**החייאה (Cardiac Arrest):**
💉 **0.01 mg/kg** (10 mcg/kg) IV/IO
- מקסימום למנה: **1 mg**
- חזרה כל **3-5 דקות**

**אנפילקסיס:**
💉 **IM:** 0.01 mg/kg (מקסימום 0.3-0.5 mg)
- חזרה כל **5-15 דקות** לפי צורך

**קרופ / סטרידור:**
💨 **נבולייזר:** 0.5 ml/kg של תמיסה 1:1000 (מקסימום 5 ml)
- ריכוז אפינפרין רצמי: **400 mcg/kg**

---

**🎯 התוויות:**

✅ **הלם קרדיוגני**
✅ **הלם אנפילקטי**
✅ **החייאה לבבית-ריאתית**
✅ **ברונכוספאזם / קרופ**
✅ **הלם ספטי עמיד**

---

**⚠️ השפעות לפי מינון:**

**מינון נמוך (0.01-0.1 mcg/kg/min):**
- **Beta effects** גוברים
- אינוטרופ, כרונוטרופ
- הרחבת כלי דם (Beta-2)

**מינון גבוה (0.1-1 mcg/kg/min):**
- **Alpha effects** גוברים
- כיווץ כלי דם
- עליית לחץ דם

---

**⚠️ זהירות:**

🚨 **במינונים גבוהים:**
- כיווץ כלי דם פריפריים
- עלייה בצריכת חמצן של שריר הלב
- אריתמיות

---

**תופעות לוואי:**

**קרדיווסקולריות:**
- טכיקרדיה
- היפרטנסיה (לחץ דם גבוה)
- אריתמיות (במיוחד VT/VF)
- עליה בצריכת O₂ של שריר הלב

**מטבוליות:**
- היפרגליקמיה (עליית סוכר)
- היפוקלמיה (ירידת אשלגן)

**אחרות:**
- נמק רקמות (אקסטרווזציה)
- חיוורון
- חרדה, רעד

---

**⏱️ פרמקולוגיה:**

**תחילת פעולה:**
- IV: **מיידית**
- IM: **3-5 דקות**
- נבולייזר: **1-5 דקות**

**משך השפעה:**
- IV: **5-10 דקות**
- IM: **20-30 דקות**
- נבולייזר: **1-3 שעות**

---

**💡 פנינים קליניות:**

💎 **אנפילקסיס:** IM באמצע החיצוני של הירך (vastus lateralis)

💎 **קרופ:** אפינפרין נבולייזר יעיל יותר מסטרואידים למצבים חריפים

💎 **החייאה:** נותנים כל 3-5 דקות. במצבי החייאה ממושכת שוקלים אפינפרין במינון גבוה

💎 **צנתור מרכזי:** מומלץ מאוד למתן מתמשך (ירידת סיכון נמק)""",
            "order_index": 4
        },
        {
            "title": "איזופרוטרנול - Isoproterenol",
            "section_type": "text",
            "content": """**Isoproterenol - איזופרוטרנול**

**משפחה:** סימפטומימטי (Beta-אגוניסט טהור)

**מנגנון:**
- פועל על **Beta-1** ו-**Beta-2** בלבד
- **אין השפעה Alpha** ← אין כיווץ כלי דם

**השפעות:**
✅ **אינוטרופ** (מגביר התכווצות)
✅ **כרונוטרופ** (מגביר דופק)
✅ **הרחבת כלי דם** (ירידת תנגודת פריפרית)
✅ **ברונכודילטציה**

---

**📊 מינון:**

💧 **0.05-2 mcg/kg/minute**
- טווח נפוץ: **0.1-0.5 mcg/kg/minute**

---

**🎯 התוויות:**

✅ **ברדיקרדיה סימפטומטית** (שלא מגיבה לאטרופין)
✅ **חסימות לב** (AV Block)
✅ **טורסדס דה פואנט** (Torsades de Pointes)
✅ **יתר לחץ דם ריאתי** (PHTN)
✅ **פוסט השתלת לב**

---

**💡 שימוש מיוחד ב-PHTN:**

**במשברי PHTN:**
- איזופרוטרנול מגביר דופק ← **מקצר את משך הדיאסטולה** ← מפחית זמן לחץ גבוה בכלי דם ריאתיים
- יעיל במיוחד ב**קריסיס של PHTN**

---

**⚠️ זהירות:**

🚨 **מוריד לחץ דם סיסטמי** (בגלל הרחבת כלי דם)
🚨 **מעלה צריכת חמצן של שריר הלב**
🚨 **טכיקרדיה משמעותית**

---

**⚠️ התוויות נגד:**

❌ **טכיאריתמיות / פיברילציה חדרים**
❌ **אוטם שריר הלב חריף**
❌ **סטנוזה אאורטלית חמורה**

---

**תופעות לוואי:**

**קרדיווסקולריות:**
- **טכיקרדיה** (עליית דופק משמעותית)
- **היפוטנסיה** (ירידת לחץ דם)
- אריתמיות
- **עלייה בצריכת חמצן של הלב** ← סיכון לאיסכמיה

**אחרות:**
- רעד
- סחרחורת
- כאב ראש
- בחילות

---

**⏱️ פרמקולוגיה:**

**תחילת פעולה:** **מיידית**

**משך השפעה:** **דקות** (לאחר הפסקת עירוי)

---

**💡 פנינים קליניות:**

💎 **ברדיקרדיה עמידה:** בחירה שנייה אחרי אטרופין + פייסינג חיצוני

💎 **PHTN קריזיס:** שילוב עם NO ומילרינון - טריפל תרפיה

💎 **טורסדס:** מקצר QT, מגביר דופק, מונע הישנות Torsades

💎 **פוסט השתלת לב:** לב מדונרג (מנותק) ← אין תגובה לאטרופין ← איזופרוטרנול הבחירה""",
            "order_index": 5
        },
        {
            "title": "אמיודרון - Amiodarone",
            "section_type": "text",
            "content": """**Amiodarone - אמיודרון**

**משפחה:** אנטי-אריתמי Class III

**מנגנון:**
חוסם תעלות אשלגן ← **מאריך פוטנציאל פעולה** ← מונע אריתמיות

**התוויות:**
✅ **VT (טכיקרדיה חדרית)**
✅ **VF (פיברילציה חדרית)**
✅ **SVT עמיד לטיפול אחר**
✅ **פרפור חדרים / רפרוף חדרים**
✅ **WPW עם פרפור חדרים**

---

**📊 מינון:**

**בולוס לאריתמיות בחולים עם דופק:**
💉 **5 mg/kg** במשך **20-60 דקות**
- מקסימום למנה: **300 mg**
- ניתן לחזור פעמיים נוספות (מקסימום יומי: **15 mg/kg** או **2.2 גרם**)

**החייאה (VT/VF ללא דופק):**
💉 **5 mg/kg** בולוס מהיר
- מקסימום למנה: **300 mg**
- אפשר עד **15 mg/kg/day** (מקסימום 2.2 גרם)

**מתן מתמשך:**
💧 **5-15 mcg/kg/minute**
- לתחזוקה לאחר בולוס

---

**⚠️ התוויות נגד:**

❌ **ברדיקרדיה סינוסית חמורה**
❌ **AV Block ברמה 2 ו-3** (בלי פייסמייקר)
❌ **אלרגיה ליוד**
❌ **תיפקוד תירואיד חריג**

---

**⚠️ זהירות:**

🚨 **אמיודרון + קלציום ערוצים** ← סיכון לברדיקרדיה ו-AV Block

🚨 **מכיל יוד** ← עלול להשפיע על תירואיד

🚨 **הפוטנסיה** - נפוץ עם בולוס מהיר

---

**תופעות לוואי:**

**קרדיווסקולריות:**
- **היפוטנסיה** (בעיקר בבולוס מהיר)
- ברדיקרדיה
- AV Block

**תירואיד:**
- **היפו/היפרתירואידיזם** (במתן ממושך)

**ריאות:**
- **פיברוזיס ריאתי** (במתן ממושך)

**עיניים:**
- משקעים בקרנית

**כבד:**
- עליית אנזימי כבד

**עור:**
- רגישות לשמש
- שינוי צבע עור (אפור-כחול)

---

**⏱️ פרמקולוגיה:**

**תחילת השפעה:**
- IV: **דקות**
- PO: **2-3 ימים** (טעינה: שבועות)

**זמן מחצית חיים:**
- **40-55 ימים** (טווח: 26-107 ימים!)

**משך השפעה:**
- שבועות-חודשים לאחר הפסקה

---

**💡 פנינים קליניות:**

💎 **VF/pulseless VT:** לאחר 3 הלמי דפיברילציה ואפינפרין

💎 **SVT עמיד:** כשאדנוזין נכשל

💎 **WPW + פרפור חדרים:** אמיודרון מהווה טיפול ראשון (אדנוזין אסור!)

💎 **היפוטנסיה:** אפשר להאט בולוס (60 דקות במקום 20) או לתת נוזלים

💎 **ניטור ממושך:** בדיקות תירואיד, כבד, ריאות בשימוש ממושך""",
            "order_index": 6
        },
        {
            "title": "נקודות מפתח - קטכולאמינים",
            "section_type": "text",
            "content": """**🎯 נקודות מפתח:**

✅ **דופמין:** 0.5-2 (כליות), 2-10 (beta), 10-20 (alpha) mcg/kg/min. חובה נוזלים לפני!

✅ **דובוטמין:** 2-20 mcg/kg/min. אינוטרופ + הרחבת כלי דם. מתאים לאי-ספיקת לב

✅ **מילרינון:** 50 mcg/kg העמסה, 0.25-0.75 mcg/kg/min. PDE-3 inhibitor. יעיל ב-PHTN

✅ **נוראפינפרין:** 0.05-2 mcg/kg/min. וזוקונסטריקטור. בחירה ראשונה בהלם ספטי

✅ **אפינפרין:** 0.01-1 mcg/kg/min (תמיכה), 0.01 mg/kg (החייאה). תלוי מינון!

✅ **איזופרוטרנול:** 0.05-2 mcg/kg/min. Beta טהור. מצוין לברדיקרדיה ו-PHTN קריזיס

✅ **אמיודרון:** 5 mg/kg בולוס. Class III אנטי-אריתמי. VT/VF/SVT עמיד""",
            "order_index": 7
        },
        {
            "title": "אזהרות קריטיות",
            "section_type": "text",
            "content": """**🚨 אזהרות חשובות:**

🔴 **דופמין/נוראפינפרין:** אסור ללא החייאת נוזלים! אקסטרווזציה ← נמק רקמות

🔴 **דובוטמין:** התווית נגד ב-HOCM וחסימות מכניות (סטנוזה מיטראלית, טמפונדה)

🔴 **מילרינון:** היפוטנסיה במנת העמסה. טרומבוציטופניה במתן ממושך

🔴 **נוראפינפרין:** כיווץ כלי דם כליים ← ירידת זרימה כלייתית

🔴 **אפינפרין:** במינונים גבוהים - אריתמיות, עליית צריכת O₂ של הלב

🔴 **איזופרוטרנול:** מעלה צריכת O₂ של הלב. מוריד לחץ דם סיסטמי

🔴 **אמיודרון:** מכיל יוד - השפעה על תירואיד. זמן מחצית חיים 40-55 ימים!

🔴 **אמיודרון + קלציום ערוצים:** סיכון לברדיקרדיה ו-AV Block חמור""",
            "order_index": 8
        },
        {
            "title": "פנינים קליניות",
            "section_type": "text",
            "content": """**💎 פנינים קליניות:**

💎 **הלם ספטי:** נוראפינפרין קודם לדופמין (guidelines עדכניים)

💎 **פוסט ניתוח לב:** מילרינון - בחירה ראשונה (אינוטרופ + הרחבת כלי דם)

💎 **PHTN קריזיס:** טריפל תרפיה - NO + מילרינון + איזופרוטרנול

💎 **דובוטמין:** לא מעלה תנגודת פריפרית ← מועדף על דופמין באי-ספיקת לב

💎 **מילרינון:** יתרון על דובוטמין - אין טכיקרדיה משמעותית, עובד ב-beta blockade

💎 **פוסט השתלת לב:** איזופרוטרנול - לב מדונרג לא מגיב לאטרופין

💎 **אפינפרין:** במינונים נמוכים (<0.1) - beta. במינונים גבוהים (>0.1) - alpha

💎 **אנפילקסיס:** אפינפרין IM באמצע החיצוני של הירך (vastus lateralis)

💎 **קרופ חמור:** אפינפרין נבולייזר 400 mcg/kg - יעיל יותר מסטרואידים למצבים חריפים

💎 **WPW + AF:** אמיודרון מהווה טיפול. אדנוזין/דילטיאזם אסורים!

💎 **VF עמיד:** אמיודרון לאחר 3 דפיברילציות + אפינפרין

💎 **צנתור מרכזי:** חובה לקטכולאמינים - ירידת סיכון נמק ואקסטרווזציה""",
            "order_index": 9
        }
    ]
    
    # הוספת כל המקטעים
    print(f"\n📚 מוסיף {len(sections)} מקטעים...")
    
    for idx, section_data in enumerate(sections, 1):
        section_data['topic_id'] = topic_id
        
        section = create_content_section(section_data)
        
        if section:
            print(f"   ✅ מקטע {idx}/{len(sections)}: {section_data['title']}")
        else:
            print(f"   ❌ שגיאה במקטע {idx}: {section_data['title']}")
            return False
    
    return True

if __name__ == "__main__":
    print("="*60)
    print("❤️ הוספת תוכן: קטכולאמינים ואינוטרופים")
    print("="*60)
    
    try:
        success = add_catecholamines()
        
        if success:
            print("\n🎉 הושלם בהצלחה!")
            print("\n💡 התוכן כולל:")
            print("   - דופמין")
            print("   - דובוטמין")
            print("   - מילרינון")
            print("   - נוראפינפרין")
            print("   - אפינפרין")
            print("   - איזופרוטרנול")
            print("   - אמיודרון")
        else:
            print("\n❌ הייתה בעיה בהוספת התוכן")
    
    except Exception as e:
        print(f"\n❌ שגיאה: {e}")
        import traceback
        traceback.print_exc()
